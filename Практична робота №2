#include <stdio.h>
#include <windows.h>

void NSKfind();

int main()
{
    // Встановлення кодової сторінки консолі для вводу та виводу на 1251 (Кирилиця)
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);

    // Виклик функції для знаходження найменшого спільного кратного
    NSKfind();

    return 0;
}

void NSKfind()
{
    int p, max = -1, nsk = 0;
    int *pArr;

    // Запит користувача на введення кількості чисел
    printf("Введіть кількість чисел: ");
    scanf("%d", &p);

    // Виділення пам'яті динамічно для масиву на основі введеної кількості
    pArr = (int *)calloc(p, sizeof(int));

    // Перевірка успішності виділення пам'яті
    if (pArr == NULL) {
        printf("\nПомилка виділення пам'яті!");
    }

    // Запит користувача на введення чисел
    printf("Введіть числа: ");
    for (int i = 0; i < p; i++) {
        scanf("%d", &pArr[i]);
        
        // Знаходження найбільшого числа
        if (pArr[i] > max)
            max = pArr[i];
    }

    // Припускаємо, що найбільше число є найменшим спільним кратним
    nsk = max;

    // Мітка для повторення перевірки для кожного числа
    point:
    for (int i = 0; i != p; i++) {
        // Якщо nsk не ділиться на будь-яке число, збільшуємо його на найбільше число і повторюємо перевірку
        if ((nsk % pArr[i]) != 0) {
            nsk += max;
            goto point;
        }
    }

    // Виведення найменшого спільного кратного
    printf ("\nНайменше спільне кратне: %d", nsk);

    free(pArr);
}
